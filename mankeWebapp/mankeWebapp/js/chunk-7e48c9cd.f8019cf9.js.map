{"version":3,"sources":["webpack:///./node_modules/vant/es/form/style/index.js","webpack:///./src/views/login/Reg.vue?0907","webpack:///src/views/login/Reg.vue","webpack:///./src/views/login/Reg.vue?a630","webpack:///./src/views/login/Reg.vue","webpack:///./node_modules/vant/es/form/index.js","webpack:///./node_modules/vant/es/toast/lock-click.js","webpack:///./node_modules/vant/es/toast/Toast.js","webpack:///./node_modules/vant/es/toast/index.js","webpack:///./node_modules/vant/es/toast/style/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","on","onSubmit","attrs","required","message","onBlur","model","value","callback","$$v","username","expression","password","login","_v","staticRenderFns","data","methods","$router","push","component","_createNamespace","createComponent","bem","props","colon","Boolean","labelWidth","Number","String","labelAlign","inputAlign","scrollToError","validateFirst","errorMessageAlign","submitOnEnter","type","default","validateTrigger","showError","showErrorMessage","provide","vanForm","fields","validateSeq","_this","Promise","resolve","reject","errors","reduce","promise","field","then","length","validate","error","validateAll","_this2","all","map","item","filter","name","validateField","matched","resetValidation","forEach","scrollToField","options","$el","scrollIntoView","addField","removeField","getValues","form","formValue","event","preventDefault","submit","_this3","values","$emit","catch","h","arguments","slots","lockCount","lockClick","lock","document","body","classList","add","remove","create","mixins","icon","className","iconPrefix","loadingType","forbidClick","closeOnClick","position","transition","lockScroll","clickable","mounted","toggleClickable","destroyed","watch","onClick","close","onAfterEnter","onOpened","onAfterLeave","genIcon","hasIcon","genMessage","_ref","defaultOptions","mask","overlay","onClose","duration","undefined","getContainer","overlayStyle","closeOnClickOverlay","defaultOptionsMap","queue","multiple","currentOptions","parseOptions","isInDocument","element","contains","createInstance","toast","extend","el","createElement","$on","transformOptions","updateZIndex","clear","clearTimeout","timer","$destroy","setTimeout","method","shift","setDefaultOptions","resetDefaultOptions","allowMultiple","install","use","prototype","$toast"],"mappings":"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","file":"js/chunk-7e48c9cd.f8019cf9.js","sourcesContent":["import '../../style/base.css';\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-form',{staticStyle:{\"margin-top\":\"30px\"},on:{\"submit\":_vm.onSubmit}},[_c('van-field',{staticStyle:{\"padding-left\":\"30px\",\"font-size\":\"16px\"},attrs:{\"name\":\"用户名\",\"label\":\"用户名\",\"placeholder\":\"用户名\",\"rules\":[{ required: true, message: '请填写用户名' }]},on:{\"blur\":_vm.onBlur},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{staticStyle:{\"padding-left\":\"30px\",\"font-size\":\"16px\"},attrs:{\"type\":\"password\",\"name\":\"密码\",\"label\":\"密码\",\"placeholder\":\"密码\",\"rules\":[{ required: true, message: '请填写密码' }]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticStyle:{\"padding-left\":\"30px\",\"margin-top\":\"20px\",\"font-size\":\"14px\"}},[_c('span',{on:{\"click\":_vm.login}},[_vm._v(\"已有账号？登录\")])]),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"注册\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <van-form @submit=\"onSubmit\" style=\"margin-top: 30px\">\r\n    <van-field\r\n      v-model=\"username\"\r\n      name=\"用户名\"\r\n      label=\"用户名\"\r\n      placeholder=\"用户名\"\r\n      :rules=\"[{ required: true, message: '请填写用户名' }]\"\r\n      style=\"padding-left: 30px; font-size: 16px\"\r\n      @blur=\"onBlur\"\r\n    />\r\n    <van-field\r\n      v-model=\"password\"\r\n      type=\"password\"\r\n      name=\"密码\"\r\n      label=\"密码\"\r\n      placeholder=\"密码\"\r\n      :rules=\"[{ required: true, message: '请填写密码' }]\"\r\n      style=\"padding-left: 30px; font-size: 16px\"\r\n    />\r\n    <div style=\"padding-left: 30px;margin-top:20px; font-size: 14px\">\r\n      <span @click=\"login\">已有账号？登录</span>\r\n    </div>\r\n    <div style=\"margin: 16px;\">\r\n      <van-button round block type=\"info\" native-type=\"submit\">注册</van-button>\r\n    </div>\r\n  </van-form>\r\n</template>\r\n<script>\r\nimport Vue from \"vue\";\r\nimport { Form, Toast } from \"vant\";\r\n\r\nVue.use(Form);\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    async onSubmit(values) {\r\n      var arr = [];\r\n      for (var key in values) {\r\n        arr.push(values[key]);\r\n      }\r\n      const result = await this.$request.post(\"/reg\", {\r\n        method: \"post\",\r\n        body: {\r\n          username: arr[0],\r\n          password: arr[1],\r\n        },\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      if (result.data.code === 1) {\r\n        this.$router.push({ name: \"Login\" });\r\n      }\r\n    },\r\n    login() {\r\n      this.$router.push({ name: \"Login\" });\r\n    },\r\n    async onBlur() {\r\n      const result = await this.$request.get(`/reg/check?username=${this.username}`,{\r\n        headers:{\r\n          'Content-Type':'application/json'\r\n        }\r\n      })\r\n      if(result.data.code === 0){\r\n          Toast(\"用户名已存在\")     \r\n      }\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reg.vue?vue&type=template&id=2bd700b2&\"\nimport script from \"./Reg.vue?vue&type=script&lang=js&\"\nexport * from \"./Reg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { createNamespace } from '../utils';\nimport { sortChildren } from '../utils/vnodes';\n\nvar _createNamespace = createNamespace('form'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    colon: Boolean,\n    labelWidth: [Number, String],\n    labelAlign: String,\n    inputAlign: String,\n    scrollToError: Boolean,\n    validateFirst: Boolean,\n    errorMessageAlign: String,\n    submitOnEnter: {\n      type: Boolean,\n      default: true\n    },\n    validateTrigger: {\n      type: String,\n      default: 'onBlur'\n    },\n    showError: {\n      type: Boolean,\n      default: true\n    },\n    showErrorMessage: {\n      type: Boolean,\n      default: true\n    }\n  },\n  provide: function provide() {\n    return {\n      vanForm: this\n    };\n  },\n  data: function data() {\n    return {\n      fields: []\n    };\n  },\n  methods: {\n    validateSeq: function validateSeq() {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var errors = [];\n\n        _this.fields.reduce(function (promise, field) {\n          return promise.then(function () {\n            if (!errors.length) {\n              return field.validate().then(function (error) {\n                if (error) {\n                  errors.push(error);\n                }\n              });\n            }\n          });\n        }, Promise.resolve()).then(function () {\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    validateAll: function validateAll() {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        Promise.all(_this2.fields.map(function (item) {\n          return item.validate();\n        })).then(function (errors) {\n          errors = errors.filter(function (item) {\n            return item;\n          });\n\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    // @exposed-api\n    validate: function validate(name) {\n      if (name) {\n        return this.validateField(name);\n      }\n\n      return this.validateFirst ? this.validateSeq() : this.validateAll();\n    },\n    validateField: function validateField(name) {\n      var matched = this.fields.filter(function (item) {\n        return item.name === name;\n      });\n\n      if (matched.length) {\n        return new Promise(function (resolve, reject) {\n          matched[0].validate().then(function (error) {\n            if (error) {\n              reject(error);\n            } else {\n              resolve();\n            }\n          });\n        });\n      }\n\n      return Promise.reject();\n    },\n    // @exposed-api\n    resetValidation: function resetValidation(name) {\n      this.fields.forEach(function (item) {\n        if (!name || item.name === name) {\n          item.resetValidation();\n        }\n      });\n    },\n    // @exposed-api\n    scrollToField: function scrollToField(name, options) {\n      this.fields.forEach(function (item) {\n        if (item.name === name) {\n          item.$el.scrollIntoView(options);\n        }\n      });\n    },\n    addField: function addField(field) {\n      this.fields.push(field);\n      sortChildren(this.fields, this);\n    },\n    removeField: function removeField(field) {\n      this.fields = this.fields.filter(function (item) {\n        return item !== field;\n      });\n    },\n    getValues: function getValues() {\n      return this.fields.reduce(function (form, field) {\n        form[field.name] = field.formValue;\n        return form;\n      }, {});\n    },\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      this.submit();\n    },\n    // @exposed-api\n    submit: function submit() {\n      var _this3 = this;\n\n      var values = this.getValues();\n      this.validate().then(function () {\n        _this3.$emit('submit', values);\n      }).catch(function (errors) {\n        _this3.$emit('failed', {\n          values: values,\n          errors: errors\n        });\n\n        if (_this3.scrollToError) {\n          _this3.scrollToField(errors[0].name);\n        }\n      });\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"form\", {\n      \"class\": bem(),\n      \"on\": {\n        \"submit\": this.onSubmit\n      }\n    }, [this.slots()]);\n  }\n});","var lockCount = 0;\nexport function lockClick(lock) {\n  if (lock) {\n    if (!lockCount) {\n      document.body.classList.add('van-toast--unclickable');\n    }\n\n    lockCount++;\n  } else {\n    lockCount--;\n\n    if (!lockCount) {\n      document.body.classList.remove('van-toast--unclickable');\n    }\n  }\n}","// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { lockClick } from './lock-click'; // Mixins\n\nimport { PopupMixin } from '../mixins/popup'; // Components\n\nimport Icon from '../icon';\nimport Loading from '../loading';\n\nvar _createNamespace = createNamespace('toast'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PopupMixin()],\n  props: {\n    icon: String,\n    className: null,\n    iconPrefix: String,\n    loadingType: String,\n    forbidClick: Boolean,\n    closeOnClick: Boolean,\n    message: [Number, String],\n    type: {\n      type: String,\n      default: 'text'\n    },\n    position: {\n      type: String,\n      default: 'middle'\n    },\n    transition: {\n      type: String,\n      default: 'van-fade'\n    },\n    lockScroll: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      clickable: false\n    };\n  },\n  mounted: function mounted() {\n    this.toggleClickable();\n  },\n  destroyed: function destroyed() {\n    this.toggleClickable();\n  },\n  watch: {\n    value: 'toggleClickable',\n    forbidClick: 'toggleClickable'\n  },\n  methods: {\n    onClick: function onClick() {\n      if (this.closeOnClick) {\n        this.close();\n      }\n    },\n    toggleClickable: function toggleClickable() {\n      var clickable = this.value && this.forbidClick;\n\n      if (this.clickable !== clickable) {\n        this.clickable = clickable;\n        lockClick(clickable);\n      }\n    },\n\n    /* istanbul ignore next */\n    onAfterEnter: function onAfterEnter() {\n      this.$emit('opened');\n\n      if (this.onOpened) {\n        this.onOpened();\n      }\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.$emit('closed');\n    },\n    genIcon: function genIcon() {\n      var h = this.$createElement;\n      var icon = this.icon,\n          type = this.type,\n          iconPrefix = this.iconPrefix,\n          loadingType = this.loadingType;\n      var hasIcon = icon || type === 'success' || type === 'fail';\n\n      if (hasIcon) {\n        return h(Icon, {\n          \"class\": bem('icon'),\n          \"attrs\": {\n            \"classPrefix\": iconPrefix,\n            \"name\": icon || type\n          }\n        });\n      }\n\n      if (type === 'loading') {\n        return h(Loading, {\n          \"class\": bem('loading'),\n          \"attrs\": {\n            \"type\": loadingType\n          }\n        });\n      }\n    },\n    genMessage: function genMessage() {\n      var h = this.$createElement;\n      var type = this.type,\n          message = this.message;\n\n      if (!isDef(message) || message === '') {\n        return;\n      }\n\n      if (type === 'html') {\n        return h(\"div\", {\n          \"class\": bem('text'),\n          \"domProps\": {\n            \"innerHTML\": message\n          }\n        });\n      }\n\n      return h(\"div\", {\n        \"class\": bem('text')\n      }, [message]);\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var h = arguments[0];\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": this.transition\n      },\n      \"on\": {\n        \"afterEnter\": this.onAfterEnter,\n        \"afterLeave\": this.onAfterLeave\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"class\": [bem([this.position, (_ref = {}, _ref[this.type] = !this.icon, _ref)]), this.className],\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.genIcon(), this.genMessage()])]);\n  }\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueToast from './Toast';\nimport { isObject, isServer } from '../utils';\nimport { removeNode } from '../utils/dom/node';\nvar defaultOptions = {\n  icon: '',\n  type: 'text',\n  // @deprecated\n  mask: false,\n  value: true,\n  message: '',\n  className: '',\n  overlay: false,\n  onClose: null,\n  onOpened: null,\n  duration: 2000,\n  iconPrefix: undefined,\n  position: 'middle',\n  transition: 'van-fade',\n  forbidClick: false,\n  loadingType: undefined,\n  getContainer: 'body',\n  overlayStyle: null,\n  closeOnClick: false,\n  closeOnClickOverlay: false\n}; // default options of specific type\n\nvar defaultOptionsMap = {};\nvar queue = [];\nvar multiple = false;\n\nvar currentOptions = _extends({}, defaultOptions);\n\nfunction parseOptions(message) {\n  if (isObject(message)) {\n    return message;\n  }\n\n  return {\n    message: message\n  };\n}\n\nfunction isInDocument(element) {\n  return document.body.contains(element);\n}\n\nfunction createInstance() {\n  /* istanbul ignore if */\n  if (isServer) {\n    return {};\n  }\n\n  queue = queue.filter(function (item) {\n    return isInDocument(item.$el);\n  });\n\n  if (!queue.length || multiple) {\n    var toast = new (Vue.extend(VueToast))({\n      el: document.createElement('div')\n    });\n    toast.$on('input', function (value) {\n      toast.value = value;\n    });\n    queue.push(toast);\n  }\n\n  return queue[queue.length - 1];\n} // transform toast options to popup props\n\n\nfunction transformOptions(options) {\n  return _extends({}, options, {\n    overlay: options.mask || options.overlay,\n    mask: undefined,\n    duration: undefined\n  });\n}\n\nfunction Toast(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var toast = createInstance(); // should add z-index if previous toast has not disappeared\n\n  if (toast.value) {\n    toast.updateZIndex();\n  }\n\n  options = parseOptions(options);\n  options = _extends({}, currentOptions, defaultOptionsMap[options.type || currentOptions.type], options);\n\n  options.clear = function () {\n    toast.value = false;\n\n    if (options.onClose) {\n      options.onClose();\n    }\n\n    if (multiple && !isServer) {\n      toast.$on('closed', function () {\n        clearTimeout(toast.timer);\n        queue = queue.filter(function (item) {\n          return item !== toast;\n        });\n        removeNode(toast.$el);\n        toast.$destroy();\n      });\n    }\n  };\n\n  _extends(toast, transformOptions(options));\n\n  clearTimeout(toast.timer);\n\n  if (options.duration > 0) {\n    toast.timer = setTimeout(function () {\n      toast.clear();\n    }, options.duration);\n  }\n\n  return toast;\n}\n\nvar createMethod = function createMethod(type) {\n  return function (options) {\n    return Toast(_extends({\n      type: type\n    }, parseOptions(options)));\n  };\n};\n\n['loading', 'success', 'fail'].forEach(function (method) {\n  Toast[method] = createMethod(method);\n});\n\nToast.clear = function (all) {\n  if (queue.length) {\n    if (all) {\n      queue.forEach(function (toast) {\n        toast.clear();\n      });\n      queue = [];\n    } else if (!multiple) {\n      queue[0].clear();\n    } else {\n      queue.shift().clear();\n    }\n  }\n};\n\nToast.setDefaultOptions = function (type, options) {\n  if (typeof type === 'string') {\n    defaultOptionsMap[type] = options;\n  } else {\n    _extends(currentOptions, type);\n  }\n};\n\nToast.resetDefaultOptions = function (type) {\n  if (typeof type === 'string') {\n    defaultOptionsMap[type] = null;\n  } else {\n    currentOptions = _extends({}, defaultOptions);\n    defaultOptionsMap = {};\n  }\n};\n\nToast.allowMultiple = function (value) {\n  if (value === void 0) {\n    value = true;\n  }\n\n  multiple = value;\n};\n\nToast.install = function () {\n  Vue.use(VueToast);\n};\n\nVue.prototype.$toast = Toast;\nexport default Toast;","import '../../style/base.css';\nimport '../../overlay/index.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../popup/index.css';\nimport '../../loading/index.css';\nimport '../index.css';"],"sourceRoot":""}